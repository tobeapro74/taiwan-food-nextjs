<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PWA 아이콘 생성기</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      max-width: 800px;
      margin: 50px auto;
      padding: 20px;
      background: #f5f5f5;
    }
    h1 { color: #FF6B6B; }
    .preview {
      display: flex;
      gap: 20px;
      flex-wrap: wrap;
      margin: 20px 0;
    }
    .icon-box {
      background: white;
      padding: 20px;
      border-radius: 16px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      text-align: center;
    }
    canvas {
      border-radius: 20%;
      box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    }
    button {
      background: #FF6B6B;
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 8px;
      font-size: 16px;
      cursor: pointer;
      margin: 5px;
    }
    button:hover { background: #EE5A5A; }
    .instructions {
      background: white;
      padding: 20px;
      border-radius: 12px;
      margin-top: 20px;
    }
    .instructions ol { padding-left: 20px; }
    .instructions li { margin: 10px 0; }
  </style>
</head>
<body>
  <h1>대만맛집 PWA 아이콘 생성기</h1>

  <div class="preview">
    <div class="icon-box">
      <h3>512x512</h3>
      <canvas id="canvas512" width="512" height="512"></canvas>
      <br><br>
      <button onclick="download('canvas512', 'icon-512.png')">다운로드</button>
    </div>
    <div class="icon-box">
      <h3>192x192</h3>
      <canvas id="canvas192" width="192" height="192"></canvas>
      <br><br>
      <button onclick="download('canvas192', 'icon-192.png')">다운로드</button>
    </div>
    <div class="icon-box">
      <h3>180x180 (Apple)</h3>
      <canvas id="canvas180" width="180" height="180"></canvas>
      <br><br>
      <button onclick="download('canvas180', 'apple-touch-icon.png')">다운로드</button>
    </div>
  </div>

  <button onclick="downloadAll()">모든 아이콘 다운로드</button>

  <div class="instructions">
    <h3>사용 방법</h3>
    <ol>
      <li>위의 아이콘 미리보기를 확인하세요</li>
      <li>"모든 아이콘 다운로드" 버튼을 클릭하거나 개별 다운로드하세요</li>
      <li>다운로드된 PNG 파일들을 <code>public/icons/</code> 폴더에 저장하세요</li>
      <li>사파리에서 "홈 화면에 추가"하면 이쁜 아이콘이 표시됩니다!</li>
    </ol>
  </div>

  <script>
    const svgContent = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
  <defs>
    <linearGradient id="bgGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#FF6B6B"/>
      <stop offset="100%" style="stop-color:#E85555"/>
    </linearGradient>
  </defs>

  <!-- Background with rounded corners -->
  <rect width="512" height="512" rx="110" fill="url(#bgGradient)"/>

  <!-- Taipei 101 Building - Left side -->
  <g transform="translate(55, 80)">
    <!-- Spire -->
    <rect x="42" y="0" width="6" height="35" fill="#FFFFFF" opacity="0.95"/>
    <!-- Top section -->
    <rect x="35" y="35" width="20" height="15" fill="#FFFFFF" opacity="0.9"/>
    <!-- Main tower sections (8 sections like bamboo) -->
    <path d="M30 50 L60 50 L58 80 L32 80 Z" fill="#FFFFFF" opacity="0.9"/>
    <path d="M32 82 L58 82 L56 112 L34 112 Z" fill="#FFFFFF" opacity="0.85"/>
    <path d="M34 114 L56 114 L54 144 L36 144 Z" fill="#FFFFFF" opacity="0.9"/>
    <path d="M36 146 L54 146 L52 176 L38 176 Z" fill="#FFFFFF" opacity="0.85"/>
    <path d="M38 178 L52 178 L50 208 L40 208 Z" fill="#FFFFFF" opacity="0.9"/>
    <!-- Base -->
    <rect x="38" y="210" width="14" height="25" fill="#FFFFFF" opacity="0.85"/>
    <!-- Windows (small dots) -->
    <circle cx="45" cy="65" r="2" fill="#FF6B6B" opacity="0.5"/>
    <circle cx="45" cy="97" r="2" fill="#FF6B6B" opacity="0.5"/>
    <circle cx="45" cy="129" r="2" fill="#FF6B6B" opacity="0.5"/>
    <circle cx="45" cy="161" r="2" fill="#FF6B6B" opacity="0.5"/>
    <circle cx="45" cy="193" r="2" fill="#FF6B6B" opacity="0.5"/>
  </g>

  <!-- Large Ramen/Noodle Bowl - Main Focus -->
  <!-- Bowl outer -->
  <ellipse cx="280" cy="340" rx="145" ry="55" fill="#FFFFFF"/>
  <!-- Bowl inner rim -->
  <ellipse cx="280" cy="325" rx="125" ry="45" fill="#FFF5E6"/>
  <!-- Soup/Broth -->
  <ellipse cx="280" cy="318" rx="110" ry="38" fill="#CD853F"/>

  <!-- Noodles - wavy lines -->
  <path d="M185 310 Q215 290 245 315 Q275 340 305 310 Q335 280 365 310"
        stroke="#F5DEB3" stroke-width="10" fill="none" stroke-linecap="round"/>
  <path d="M195 330 Q225 305 255 330 Q285 355 315 325 Q345 295 375 330"
        stroke="#FAEBD7" stroke-width="8" fill="none" stroke-linecap="round"/>

  <!-- Egg (halved) -->
  <ellipse cx="220" cy="295" rx="26" ry="17" fill="#FFFFFF" stroke="#E8D5B7" stroke-width="2"/>
  <ellipse cx="220" cy="295" rx="14" ry="9" fill="#FF9933"/>

  <!-- Meat slices -->
  <ellipse cx="330" cy="300" rx="24" ry="11" fill="#A0522D" stroke="#8B4513" stroke-width="2"/>
  <ellipse cx="305" cy="288" rx="18" ry="9" fill="#B8733D" stroke="#8B4513" stroke-width="2"/>

  <!-- Green onions -->
  <rect x="255" y="278" width="32" height="8" rx="4" fill="#90EE90" transform="rotate(-15 271 282)"/>
  <rect x="275" y="295" width="28" height="7" rx="3" fill="#7CCD7C" transform="rotate(10 289 298)"/>

  <!-- Steam - more prominent -->
  <path d="M205 230 Q195 200 210 170" stroke="#FFFFFF" stroke-width="8" fill="none" stroke-linecap="round" opacity="0.8"/>
  <path d="M250 215 Q240 180 255 145" stroke="#FFFFFF" stroke-width="9" fill="none" stroke-linecap="round" opacity="0.7"/>
  <path d="M295 220 Q285 185 300 150" stroke="#FFFFFF" stroke-width="10" fill="none" stroke-linecap="round" opacity="0.8"/>
  <path d="M340 215 Q330 180 345 145" stroke="#FFFFFF" stroke-width="9" fill="none" stroke-linecap="round" opacity="0.7"/>
  <path d="M380 230 Q370 200 385 170" stroke="#FFFFFF" stroke-width="8" fill="none" stroke-linecap="round" opacity="0.8"/>

  <!-- Chopsticks -->
  <rect x="130" y="150" width="11" height="190" rx="5" fill="#8B4513" transform="rotate(28 135 245)"/>
  <rect x="152" y="142" width="11" height="190" rx="5" fill="#A0522D" transform="rotate(23 157 237)"/>

  <!-- Taiwan Flag colors hint - small badge (top right) -->
  <circle cx="435" cy="85" r="42" fill="#FFFFFF" opacity="0.95"/>
  <circle cx="435" cy="85" r="33" fill="#000080"/>
  <polygon points="435,62 439,75 453,75 442,84 446,97 435,88 424,97 428,84 417,75 431,75" fill="#FFFFFF"/>

  <!-- Text: 대만맛집 -->
  <text x="256" y="462" font-family="Arial, sans-serif" font-size="48" font-weight="bold" fill="#FFFFFF" text-anchor="middle" letter-spacing="3">대만맛집</text>
</svg>`;

    function renderToCanvas(canvasId, size) {
      const canvas = document.getElementById(canvasId);
      const ctx = canvas.getContext('2d');
      const img = new Image();

      const blob = new Blob([svgContent], { type: 'image/svg+xml' });
      const url = URL.createObjectURL(blob);

      img.onload = function() {
        ctx.clearRect(0, 0, size, size);
        ctx.drawImage(img, 0, 0, size, size);
        URL.revokeObjectURL(url);
      };
      img.src = url;
    }

    function download(canvasId, filename) {
      const canvas = document.getElementById(canvasId);
      const link = document.createElement('a');
      link.download = filename;
      link.href = canvas.toDataURL('image/png');
      link.click();
    }

    function downloadAll() {
      setTimeout(() => download('canvas512', 'icon-512.png'), 0);
      setTimeout(() => download('canvas192', 'icon-192.png'), 300);
      setTimeout(() => download('canvas180', 'apple-touch-icon.png'), 600);
    }

    // 페이지 로드 시 모든 캔버스에 아이콘 렌더링
    window.onload = function() {
      renderToCanvas('canvas512', 512);
      renderToCanvas('canvas192', 192);
      renderToCanvas('canvas180', 180);
    };
  </script>
</body>
</html>
