<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PWA 아이콘 생성기</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      max-width: 900px;
      margin: 50px auto;
      padding: 20px;
      background: linear-gradient(135deg, #f5f5f5 0%, #e8e8e8 100%);
    }
    h1 {
      color: #FF5733;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
    }
    .preview {
      display: flex;
      gap: 20px;
      flex-wrap: wrap;
      margin: 20px 0;
    }
    .icon-box {
      background: white;
      padding: 20px;
      border-radius: 16px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.15);
      text-align: center;
    }
    canvas {
      border-radius: 22%;
      box-shadow: 0 8px 25px rgba(255,87,51,0.3);
    }
    button {
      background: linear-gradient(135deg, #FF8C42 0%, #FF5733 50%, #C70039 100%);
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 8px;
      font-size: 16px;
      cursor: pointer;
      margin: 5px;
      box-shadow: 0 4px 15px rgba(255,87,51,0.4);
      transition: transform 0.2s, box-shadow 0.2s;
    }
    button:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(255,87,51,0.5);
    }
    .instructions {
      background: white;
      padding: 20px;
      border-radius: 12px;
      margin-top: 20px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    .instructions ol { padding-left: 20px; }
    .instructions li { margin: 10px 0; }
    code {
      background: #f0f0f0;
      padding: 2px 6px;
      border-radius: 4px;
    }
  </style>
</head>
<body>
  <h1>대만맛집 (타이페이) PWA 아이콘 생성기</h1>
  <p>새로운 눈에 띄는 디자인으로 업데이트된 아이콘입니다.</p>

  <div class="preview">
    <div class="icon-box">
      <h3>512x512</h3>
      <canvas id="canvas512" width="512" height="512"></canvas>
      <br><br>
      <button onclick="download('canvas512', 'icon-512.png')">다운로드</button>
    </div>
    <div class="icon-box">
      <h3>192x192</h3>
      <canvas id="canvas192" width="192" height="192"></canvas>
      <br><br>
      <button onclick="download('canvas192', 'icon-192.png')">다운로드</button>
    </div>
    <div class="icon-box">
      <h3>180x180 (Apple)</h3>
      <canvas id="canvas180" width="180" height="180"></canvas>
      <br><br>
      <button onclick="download('canvas180', 'apple-touch-icon.png')">다운로드</button>
    </div>
  </div>

  <button onclick="downloadAll()">모든 아이콘 다운로드</button>

  <div class="instructions">
    <h3>사용 방법</h3>
    <ol>
      <li>위의 아이콘 미리보기를 확인하세요</li>
      <li>"모든 아이콘 다운로드" 버튼을 클릭하거나 개별 다운로드하세요</li>
      <li>다운로드된 PNG 파일들을 <code>public/icons/</code> 폴더에 저장하세요</li>
      <li>사파리에서 "홈 화면에 추가"하면 이쁜 아이콘이 표시됩니다!</li>
    </ol>
  </div>

  <script>
    // 애니메이션 없는 정적 버전 (PNG 변환용)
    const svgContent = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
  <defs>
    <!-- 메인 그라데이션 - 활기찬 오렌지-레드 -->
    <linearGradient id="mainGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#FF8C42"/>
      <stop offset="50%" style="stop-color:#FF5733"/>
      <stop offset="100%" style="stop-color:#C70039"/>
    </linearGradient>

    <!-- 빛나는 효과 -->
    <radialGradient id="glowGradient" cx="30%" cy="30%">
      <stop offset="0%" style="stop-color:#FFFFFF;stop-opacity:0.4"/>
      <stop offset="100%" style="stop-color:#FFFFFF;stop-opacity:0"/>
    </radialGradient>
  </defs>

  <!-- 배경 -->
  <rect width="512" height="512" rx="110" fill="url(#mainGradient)"/>

  <!-- 반짝이는 오버레이 -->
  <rect width="512" height="512" rx="110" fill="url(#glowGradient)"/>

  <!-- 장식적 원형 패턴 (배경) -->
  <circle cx="420" cy="100" r="60" fill="#FFFFFF" opacity="0.08"/>
  <circle cx="80" cy="420" r="45" fill="#FFFFFF" opacity="0.08"/>
  <circle cx="450" cy="380" r="35" fill="#FFFFFF" opacity="0.06"/>

  <!-- 메인 그릇 (중앙, 크고 눈에 띄게) -->
  <g transform="translate(256, 320)">
    <!-- 그릇 본체 -->
    <ellipse cx="0" cy="20" rx="140" ry="55" fill="#FFFFFF"/>
    <ellipse cx="0" cy="5" rx="125" ry="45" fill="#FFF8F0"/>

    <!-- 국물 -->
    <ellipse cx="0" cy="-5" rx="110" ry="38" fill="#D4A574"/>
    <ellipse cx="0" cy="-12" rx="95" ry="30" fill="#C4956A"/>

    <!-- 면 (웨이브 패턴) -->
    <g fill="#F5DEB3" opacity="0.9">
      <path d="M-60,-20 Q-40,-35 -20,-20 Q0,-5 20,-20 Q40,-35 60,-20" stroke="#E8D4B8" stroke-width="8" fill="none" stroke-linecap="round"/>
      <path d="M-50,-10 Q-30,-25 -10,-10 Q10,5 30,-10 Q50,-25 70,-10" stroke="#E8D4B8" stroke-width="7" fill="none" stroke-linecap="round"/>
      <path d="M-55,-5 Q-35,-18 -15,-5 Q5,8 25,-5 Q45,-18 65,-5" stroke="#E8D4B8" stroke-width="6" fill="none" stroke-linecap="round"/>
    </g>

    <!-- 계란 반쪽 -->
    <ellipse cx="-45" cy="-25" rx="22" ry="18" fill="#FFFFFF"/>
    <ellipse cx="-45" cy="-27" rx="14" ry="11" fill="#FFB347"/>

    <!-- 파 조각들 -->
    <ellipse cx="35" cy="-30" rx="8" ry="5" fill="#90EE90"/>
    <ellipse cx="55" cy="-22" rx="6" ry="4" fill="#98FB98"/>
    <ellipse cx="20" cy="-35" rx="7" ry="4" fill="#7CCD7C"/>

    <!-- 고기 조각 -->
    <ellipse cx="0" cy="-32" rx="20" ry="8" fill="#CD853F" transform="rotate(-10)"/>
    <ellipse cx="-25" cy="-38" rx="15" ry="6" fill="#D2691E" transform="rotate(15)"/>

    <!-- 그릇 테두리 하이라이트 -->
    <ellipse cx="0" cy="20" rx="140" ry="55" fill="none" stroke="#FFFFFF" stroke-width="3" opacity="0.6"/>
  </g>

  <!-- 스팀 (정적 버전) -->
  <g fill="none" stroke="#FFFFFF" stroke-linecap="round" opacity="0.85">
    <path d="M180 200 Q170 170 185 140 Q200 110 185 80" stroke-width="12"/>
    <path d="M256 190 Q246 155 261 120 Q276 85 261 50" stroke-width="14"/>
    <path d="M332 200 Q342 170 327 140 Q312 110 327 80" stroke-width="12"/>
  </g>

  <!-- 젓가락 -->
  <g>
    <rect x="340" y="180" width="12" height="180" rx="6" fill="#8B4513" transform="rotate(25 346 270)"/>
    <rect x="360" y="170" width="12" height="180" rx="6" fill="#A0522D" transform="rotate(20 366 260)"/>
    <!-- 젓가락 무늬 -->
    <rect x="340" y="185" width="12" height="3" rx="1" fill="#6B3410" transform="rotate(25 346 186)" opacity="0.5"/>
    <rect x="340" y="195" width="12" height="3" rx="1" fill="#6B3410" transform="rotate(25 346 196)" opacity="0.5"/>
    <rect x="360" y="175" width="12" height="3" rx="1" fill="#7B4420" transform="rotate(20 366 176)" opacity="0.5"/>
    <rect x="360" y="185" width="12" height="3" rx="1" fill="#7B4420" transform="rotate(20 366 186)" opacity="0.5"/>
  </g>

  <!-- 타이페이 101 아이콘 (우상단 작게) -->
  <g transform="translate(380, 60) scale(0.4)">
    <rect x="45" y="0" width="10" height="35" fill="#FFFFFF"/>
    <polygon points="50,0 42,15 58,15" fill="#FFFFFF"/>
    <rect x="38" y="35" width="24" height="15" fill="#FFFFFF"/>
    <path d="M30 50 L70 50 L68 75 L32 75 Z" fill="#FFFFFF"/>
    <path d="M32 80 L68 80 L66 105 L34 105 Z" fill="#FFFFFF"/>
    <path d="M34 110 L66 110 L64 135 L36 135 Z" fill="#FFFFFF"/>
    <path d="M36 140 L64 140 L62 165 L38 165 Z" fill="#FFFFFF"/>
    <rect x="30" y="170" width="40" height="25" fill="#FFFFFF"/>
  </g>

  <!-- 대만 국기 스타 (좌상단) -->
  <g transform="translate(75, 75)">
    <circle cx="0" cy="0" r="32" fill="#FFFFFF" opacity="0.95"/>
    <circle cx="0" cy="0" r="26" fill="#000080"/>
    <polygon points="0,-15 4,-5 15,-5 6,2 10,13 0,6 -10,13 -6,2 -15,-5 -4,-5" fill="#FFFFFF"/>
  </g>

  <!-- 하단 텍스트 -->
  <text x="256" y="470" font-family="Arial, Helvetica, sans-serif" font-size="52" font-weight="bold" fill="#FFFFFF" text-anchor="middle">대만맛집</text>

  <!-- 서브 텍스트 -->
  <text x="256" y="498" font-family="Arial, Helvetica, sans-serif" font-size="18" fill="#FFFFFF" text-anchor="middle" opacity="0.9">TAIPEI FOOD GUIDE</text>
</svg>`;

    function renderToCanvas(canvasId, size) {
      const canvas = document.getElementById(canvasId);
      const ctx = canvas.getContext('2d');
      const img = new Image();

      const blob = new Blob([svgContent], { type: 'image/svg+xml' });
      const url = URL.createObjectURL(blob);

      img.onload = function() {
        ctx.clearRect(0, 0, size, size);
        ctx.drawImage(img, 0, 0, size, size);
        URL.revokeObjectURL(url);
      };
      img.src = url;
    }

    function download(canvasId, filename) {
      const canvas = document.getElementById(canvasId);
      const link = document.createElement('a');
      link.download = filename;
      link.href = canvas.toDataURL('image/png');
      link.click();
    }

    function downloadAll() {
      setTimeout(() => download('canvas512', 'icon-512.png'), 0);
      setTimeout(() => download('canvas192', 'icon-192.png'), 300);
      setTimeout(() => download('canvas180', 'apple-touch-icon.png'), 600);
    }

    // 페이지 로드 시 모든 캔버스에 아이콘 렌더링
    window.onload = function() {
      renderToCanvas('canvas512', 512);
      renderToCanvas('canvas192', 192);
      renderToCanvas('canvas180', 180);
    };
  </script>
</body>
</html>
